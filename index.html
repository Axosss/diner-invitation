<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Invitation Valentinis">
  <title>Valentinis - Invitation</title>

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://valentinis.netlify.app/">
  <meta property="og:title" content="Valentina's Birthday">
  <meta property="og:description" content="Join us for Valentina's Birthday celebration">
  <meta property="og:image" content="https://valentinis.netlify.app/src/assets/images/og-image.jpg">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Valentina's Birthday">
  <meta name="twitter:description" content="Join us for Valentina's Birthday celebration">
  <meta name="twitter:image" content="https://valentinis.netlify.app/src/assets/images/og-image.jpg">

  <style>
    /* Fonts */
    @font-face {
      font-family: 'Monsieur La Doulaise';
      src: url('./src/assets/fonts/MonsieurLaDoulaise-Regular.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    /* Reset and base styles */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background-color: #ffffff;
      background-image: url('./src/assets/templates/valentina/fabric-of-squares.png');
      background-size: 200px 200px;
      background-repeat: repeat;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    /* ========== ENVELOPE STYLES ========== */

    /* Envelope container for 3D flip */
    .envelope-container {
      perspective: 2000px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 900px;
      height: 650px;
    }

    /* Envelope styling */
    .envelope {
      width: 100%;
      height: 100%;
      background: #6b2431;
      display: grid;
      place-content: center;
      position: relative;
      border: none;
      box-shadow: 0 15px 40px rgba(0,0,0,0.25);
      transform-style: preserve-3d;
      transition: transform 1.5s ease, background 1s ease, box-shadow 1s ease;
      transform: rotateY(180deg);
    }

    .envelope.fade-out {
      background: transparent;
      box-shadow: none;
    }

    .envelope.fade-out::after {
      opacity: 0;
      transition: opacity 1s ease;
    }

    .envelope.fade-out .envelope-back,
    .envelope.fade-out .envelope-lid,
    .envelope.fade-out .envelope-lid-secondary,
    .envelope.fade-out .wax-seal,
    .envelope.fade-out .wax-seal-back {
      opacity: 0 !important;
      transition: opacity 1s ease;
    }

    .envelope-container.flipped .envelope {
      transform: rotateY(0deg);
    }

    .envelope::after {
      content: '';
      position: absolute;
      inset: 0;
      border-top: 234px solid transparent;
      border-right: 450px solid #48171f;
      border-bottom: 416px solid #48171f;
      border-left: 450px solid #48171f;
      transition: opacity 1s ease;
    }

    /* Back of envelope */
    .envelope-back {
      position: absolute;
      inset: 0;
      background: #48171f;
      backface-visibility: hidden;
      transform: rotateY(180deg);
      z-index: 5;
      border: none;
      box-shadow: 0 15px 40px rgba(0,0,0,0.25);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 1s ease;
    }

    /* Text on back of envelope */
    .envelope-back-text {
      text-align: center;
      font-family: 'Monsieur La Doulaise', cursive;
      font-size: 60px;
      font-weight: 300;
      color: rgba(160, 120, 130, 0.6);
      text-shadow:
        0px -1px 1px rgba(0, 0, 0, 0.5),
        0px 1px 1px rgba(255, 255, 255, 0.5);
      letter-spacing: 5px;
    }

    /* Stamp on back */
    .stamp {
      position: absolute;
      top: 40px;
      right: 60px;
      width: 207.6px;
      height: 156px;
      background-image: url('./src/assets/images/stamp1-chili-white.webp');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
    }

    /* Envelope lid styling */
    .envelope-lid {
      position: absolute;
      inset: 0;
      z-index: 1;
      transition: opacity 1s ease;
    }

    .envelope-lid::before,
    .envelope-lid::after {
      content: '';
      position: absolute;
      top: 0;
      width: 0px;
      background-color: transparent;
    }

    .envelope-lid::before {
      left: 0;
      height: 480px;
      transform: rotate(-63.1deg);
      transform-origin: top left;
    }

    .envelope-lid::after {
      right: 0;
      height: 480px;
      transform: rotate(63.1deg);
      transform-origin: top right;
    }

    .envelope-lid-secondary {
      position: absolute;
      inset: 0;
      z-index: 1;
      background: #48171f;
      clip-path: polygon(50% 36%, 0 0, 100% 0);
      transition: transform 1s, opacity 1s ease;
      transform-origin: top;
    }

    /* Wax Seal */
    .wax-seal {
      position: absolute;
      top: 35%;
      left: 50%;
      transform: translate(-50%, -50%);
      transition: opacity 1s ease;
      width: 100px;
      height: 100px;
      z-index: 2;
      opacity: 1;
      background-image: url('./src/assets/images/wax-v.webp');
      background-size: contain;
      background-repeat: no-repeat;
    }

    /* Wax Seal Back (empreinte) */
    .wax-seal-back {
      position: absolute;
      top: 35%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100px;
      height: 100px;
      z-index: 1;
      opacity: 0;
      background-image: url('./src/assets/images/wax-seal-V-back.webp');
      background-size: contain;
      background-repeat: no-repeat;
      transition: opacity 0.5s ease;
    }

    .wax-seal-back.visible {
      opacity: 1;
    }

    /* ========== ANIMATIONS ========== */

    /* Card reveal animation triggered by envelope opened state */
    .envelope.opened .card-valentina-wrapper {
      animation: show-card-valentina 2s 2.5s forwards;
    }

    .envelope.opened .envelope-lid-secondary {
      animation: open-lid 1s 1.5s forwards, open-lid-stacking 500ms 1.5s forwards;
    }

    .envelope.opened .wax-seal {
      animation: seal-with-lid 1s 1.5s forwards;
    }

    .envelope.opened .wax-seal-back {
      animation: seal-back-with-lid 1s 1.5s forwards;
    }

    /* Keyframe: Card emerging from envelope */
    @keyframes show-card-valentina {
      0% {
        transform: translateY(0) rotate(-90deg);
        z-index: -1;
      }
      40% {
        transform: translateY(-50%) rotate(-90deg);
        z-index: -1;
      }
      60% {
        transform: translateY(-50%) rotate(0deg);
        z-index: 10;
      }
      100% {
        transform: translateY(0) rotate(0deg);
        z-index: 10;
      }
    }

    @keyframes open-lid {
      0% {
        transform: rotateX(0deg);
      }
      100% {
        transform: rotateX(180deg);
      }
    }

    @keyframes open-lid-stacking {
      50% {
        z-index: 1;
      }
      100% {
        z-index: -1;
      }
    }

    @keyframes seal-with-lid {
      0% {
        transform: translate(-50%, -50%) rotateX(0deg);
        transform-origin: 50% -177.5%;
        opacity: 1;
        z-index: 2;
      }
      50% {
        transform: translate(-50%, -50%) rotateX(90deg);
        transform-origin: 50% -177.5%;
        opacity: 1;
        z-index: 2;
      }
      51% {
        transform: translate(-50%, -50%) rotateX(90deg);
        transform-origin: 50% -177.5%;
        opacity: 0;
        z-index: 2;
      }
      60% {
        z-index: 2;
      }
      61% {
        z-index: -2;
      }
      70% {
        opacity: 0;
        z-index: -2;
      }
      100% {
        transform: translate(-50%, -50%) rotateX(180deg);
        transform-origin: 50% -177.5%;
        opacity: 0;
        z-index: -2;
      }
    }

    @keyframes seal-back-with-lid {
      0% {
        transform: translate(-50%, -50%) rotateX(0deg);
        transform-origin: 50% -177.5%;
        opacity: 0;
        z-index: 1;
      }
      50% {
        transform: translate(-50%, -50%) rotateX(90deg);
        transform-origin: 50% -177.5%;
        opacity: 0;
        z-index: 1;
      }
      51% {
        transform: translate(-50%, -50%) rotateX(90deg);
        transform-origin: 50% -177.5%;
        opacity: 1;
        z-index: 1;
      }
      60% {
        z-index: 1;
      }
      61% {
        z-index: -1;
      }
      100% {
        transform: translate(-50%, -50%) rotateX(180deg);
        transform-origin: 50% -177.5%;
        opacity: 1;
        z-index: -1;
      }
    }

    /* ========== CARD VALENTINA STYLES ========== */

    /* Card wrapper with perspective and initial rotation */
    .card-valentina-wrapper {
      perspective: 1000px;
      transform: rotate(-90deg);
      z-index: 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Card with 3D flip transform */
    .card-valentina {
      width: 600px;
      height: auto;
      background-color: transparent;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.8s ease-in-out;
    }

    /* Flipped state */
    .card-valentina.flipped {
      transform: rotateY(180deg);
    }

    /* Card faces */
    .card-valentina-front {
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
      position: relative;
      width: 100%;
      height: auto;
      transform: translateZ(2.5px);
    }

    .card-valentina-back {
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      transform: rotateY(180deg) translateZ(2.5px);
    }

    /* Card edge/thickness (visible during flip) */
    .card-valentina-edge {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      transform: translateZ(-2.5px);
      transform-style: preserve-3d;
    }

    .valentina-edge-svg {
      width: 600px;
      height: auto;
      display: block;
    }

    /* Valentina card content */
    .valentina-card-content {
      width: auto;
      height: auto;
      position: relative;
      overflow: visible;
      display: flex;
      align-items: center;
      justify-content: center;
      /* Drop shadow for depth - enhanced */
      filter: drop-shadow(0 20px 60px rgba(0, 0, 0, 0.5));
    }

    /* SVG background - preserves exact dimensions */
    .valentina-svg-background {
      width: 600px;
      height: auto;
      display: block;
      position: relative;
    }

    /* Depth gradient on sides + radial gradient for center highlight */
    .valentina-svg-background::before {
      content: '';
      position: absolute;
      inset: 0;
      pointer-events: none;
      background:
        /* Radial gradient - lighter in center (more intense) */
        radial-gradient(
          ellipse at center,
          rgba(255, 255, 255, 0.18) 0%,
          rgba(255, 255, 255, 0.08) 40%,
          transparent 70%
        ),
        /* Side shadows for depth */
        linear-gradient(
          90deg,
          rgba(0, 0, 0, 0.12) 0%,
          transparent 12%,
          transparent 88%,
          rgba(0, 0, 0, 0.12) 100%
        );
    }

    /* ========== BUTTONS ========== */

    /* Blur overlay */
    .blur-overlay {
      position: fixed;
      inset: 0;
      background: linear-gradient(
        to bottom,
        rgba(252, 246, 235, 0.05) 0%,
        rgba(252, 246, 235, 0.15) 20%,
        rgba(252, 246, 235, 0.05) 40%
      );
      z-index: 999;
    }

    .blur-overlay.hidden {
      display: none;
    }

    /* Open envelope button */
    .open-envelope-button {
      position: fixed;
      top: calc(50% + 380px);
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: rgba(72, 23, 31, 0.9);
      color: #ffffff;
      border: none;
      border-radius: 50px;
      padding: 20px 40px;
      font-family: 'Minion Pro', serif;
      font-size: 20px;
      letter-spacing: 2px;
      cursor: pointer;
      z-index: 1000;
      transition: all 0.3s ease;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    .open-envelope-button:hover {
      background-color: rgba(72, 23, 31, 1);
      transform: translate(-50%, -50%) scale(1.05);
    }

    .open-envelope-button.hidden {
      display: none;
    }

    /* ========== CONTROL BUTTONS STYLES ========== */

    .control-buttons {
      position: fixed;
      top: 20px;
      left: 20px;
      display: none;
      gap: 15px;
      z-index: 1000;
    }

    .control-buttons.visible {
      display: flex;
    }

    .control-button {
      background-color: rgba(72, 23, 31, 0.5);
      background-image: url('./src/assets/templates/valentina/fabric-of-squares.png');
      background-size: 200px 200px;
      background-repeat: repeat;
      background-blend-mode: overlay;
      border: none;
      border-radius: 50px;
      cursor: not-allowed;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 20px;
      color: rgba(255, 255, 255, 0.6);
      font-family: 'Minion Pro', serif;
      font-size: 16px;
      letter-spacing: 1px;
      pointer-events: none;
    }

    .control-button.enabled {
      pointer-events: auto;
      cursor: pointer;
      background-color: rgba(72, 23, 31, 0.9);
      color: #fff;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .control-button.enabled:hover {
      background-color: rgba(107, 36, 49, 0.95);
      transform: scale(1.05);
    }

    .music-button {
      padding: 12px 16px;
    }

    /* Music icon and play/pause */
    .music-icon-container {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .play-pause-icon {
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .pause-bars {
      display: flex;
      gap: 4px;
    }

    .pause-bar {
      width: 3px;
      height: 16px;
      background-color: #fff;
      border-radius: 1px;
    }

    .play-triangle {
      width: 0;
      height: 0;
      border-left: 12px solid #fff;
      border-top: 8px solid transparent;
      border-bottom: 8px solid transparent;
      margin-left: 2px;
    }

    .music-note-icon {
      font-size: 20px;
    }

    /* Flip card icon and text */
    .flip-icon {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .flip-icon svg {
      width: 100%;
      height: 100%;
    }

    /* Calendar button icon */
    .calendar-icon {
      font-size: 20px;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 1;
    }

    .calendar-button {
      display: none;
      padding: 12px 20px;
      font-size: 16px;
    }

    .calendar-button .button-text-short {
      min-width: auto;
      width: auto;
    }

    .calendar-button.visible {
      display: flex;
      animation: subtle-pulse 3s ease-in-out infinite;
    }

    .maps-button {
      display: none;
      padding: 12px 20px;
      font-size: 16px;
    }

    .maps-button .button-text-short {
      min-width: auto;
      width: auto;
    }

    .maps-button.visible {
      display: flex;
    }

    @keyframes subtle-pulse {
      0%, 100% {
        transform: scale(1);
      }
      5% {
        transform: scale(1.05);
      }
      10% {
        transform: scale(1);
      }
      15% {
        transform: scale(1.05);
      }
      20%, 100% {
        transform: scale(1);
      }
    }

    /* Calendar CTA Tooltip */
    .calendar-tooltip {
      position: fixed;
      background-color: rgba(72, 23, 31, 0.9);
      background-image: url('./src/assets/templates/valentina/fabric-of-squares.png');
      background-size: 200px 200px;
      background-repeat: repeat;
      background-blend-mode: overlay;
      color: white;
      padding: 12px 20px;
      border-radius: 25px;
      font-family: 'Minion Pro', serif;
      font-size: 14px;
      letter-spacing: 1px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      z-index: 1001;
      opacity: 0;
      pointer-events: none;
      white-space: nowrap;
      transition: opacity 0.5s ease;
    }

    .calendar-tooltip.show {
      opacity: 1;
      animation: tooltip-pulse 2s ease-in-out infinite;
    }

    @keyframes tooltip-pulse {
      0%, 100% {
        transform: translate(-50%, 0) scale(1);
      }
      50% {
        transform: translate(-50%, 0) scale(1.05);
      }
    }

    .calendar-tooltip::before {
      content: '';
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 8px solid transparent;
      border-right: 8px solid transparent;
    }

    /* Fl√®che vers le haut (tooltip en dessous du bouton - desktop) */
    .calendar-tooltip.arrow-up::before {
      top: -8px;
      border-bottom: 8px solid rgba(72, 23, 31, 0.9);
    }

    /* Fl√®che vers le bas (tooltip au-dessus du bouton - mobile) */
    .calendar-tooltip.arrow-down::before {
      bottom: -8px;
      border-top: 8px solid rgba(72, 23, 31, 0.9);
    }

    /* Button text variations */
    .button-text-short {
      display: none;
      white-space: nowrap;
    }

    .button-text-full {
      display: inline;
      white-space: nowrap;
    }

    /* Mobile responsive */
    @media (max-width: 768px) {
      body {
        overflow: hidden;
        min-height: 100vh;
        max-height: 100vh;
      }

      .envelope-container {
        width: 85.5vw;
        height: auto;
        aspect-ratio: 900 / 650;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      .envelope {
        width: 100%;
        height: 100%;
      }

      .envelope::after {
        border-top: calc(85.5vw * 195 / 900) solid transparent;
        border-right: calc(85.5vw / 2) solid #48171f;
        border-bottom: calc(85.5vw * 455 / 900) solid #48171f;
        border-left: calc(85.5vw / 2) solid #48171f;
      }

      .envelope-lid::before,
      .envelope-lid::after {
        height: calc(85.5vw * 480 / 900);
        width: 0px;
      }

      .envelope-lid-secondary {
        clip-path: polygon(50% 30.15%, 0 0, 100% 0);
      }

      .envelope-back-text {
        font-size: 30px;
      }

      .stamp {
        width: 115px;
        height: 86px;
        top: 10px;
        right: 20px;
      }

      .wax-seal {
        width: 70px;
        height: 70px;
        top: 35%;
      }

      .wax-seal-back {
        width: 70px;
        height: 70px;
        top: 35%;
      }

      .envelope.opened .wax-seal {
        animation: seal-with-lid-mobile 1s 1.5s forwards;
      }

      .envelope.opened .wax-seal-back {
        animation: seal-back-with-lid-mobile 1s 1.5s forwards;
      }

      @keyframes seal-with-lid-mobile {
        0% {
          transform: translate(-50%, -50%) rotateX(0deg);
          transform-origin: 50% -110%;
          opacity: 1;
          z-index: 2;
        }
        50% {
          transform: translate(-50%, -50%) rotateX(90deg);
          transform-origin: 50% -102.5%;
          opacity: 1;
          z-index: 2;
        }
        51% {
          opacity: 0;
          z-index: 2;
        }
        60% {
          z-index: 2;
        }
        61% {
          z-index: -2;
        }
        70% {
          opacity: 0;
          z-index: -2;
        }
        100% {
          transform: translate(-50%, -50%) rotateX(180deg);
          transform-origin: 50% -95%;
          opacity: 0;
          z-index: -2;
        }
      }

      @keyframes seal-back-with-lid-mobile {
        0% {
          transform: translate(-50%, -50%) rotateX(0deg);
          transform-origin: 50% -110%;
          opacity: 0;
          z-index: 1;
        }
        50% {
          transform: translate(-50%, -50%) rotateX(90deg);
          transform-origin: 50% -102.5%;
          opacity: 0;
          z-index: 1;
        }
        51% {
          transform: translate(-50%, -50%) rotateX(90deg);
          transform-origin: 50% -102.5%;
          opacity: 1;
          z-index: 1;
        }
        60% {
          z-index: 1;
        }
        61% {
          z-index: -1;
        }
        100% {
          transform: translate(-50%, calc(-50% + 5px)) rotateX(180deg);
          transform-origin: 50% -95%;
          opacity: 1;
          z-index: -1;
        }
      }

      .card-valentina-wrapper {
        transition: all 1s ease;
        transform: rotate(-90deg) scale(0.45);
      }

      .envelope.opened .card-valentina-wrapper {
        animation: show-card-valentina-mobile 2s 2.5s forwards;
      }

      @keyframes show-card-valentina-mobile {
        0% {
          transform: translateY(0) rotate(-90deg) scale(0.45);
          z-index: -1;
        }
        40% {
          transform: translateY(-50%) rotate(-90deg) scale(0.45);
          z-index: -1;
        }
        60% {
          transform: translateY(-50%) rotate(0deg) scale(0.45);
          z-index: 10;
        }
        100% {
          transform: translateY(-10pt) rotate(0deg) scale(0.9);
          z-index: 10;
        }
      }

      .card-valentina {
        width: 85.5vw !important;
        max-width: 85.5vw !important;
      }

      .valentina-card-content {
        width: 100%;
        height: auto;
        aspect-ratio: 366.8 / 429.1;
      }

      .valentina-svg-background {
        width: 100%;
        height: auto;
      }

      .valentina-edge-svg {
        width: 100%;
        height: auto;
      }

      .open-envelope-button {
        top: auto;
        bottom: 40px;
        font-size: 18px;
        padding: 15px 35px;
      }

      .control-buttons {
        top: auto;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        gap: 10px;
      }

      .control-button {
        padding: 10px 19px;
        font-size: 13px;
      }

      .music-button {
        padding: 10px 12px;
      }

      .play-pause-icon {
        width: 16px;
        height: 16px;
      }

      .pause-bar {
        width: 2.5px;
        height: 14px;
      }

      .play-triangle {
        border-left: 10px solid #fff;
        border-top: 6px solid transparent;
        border-bottom: 6px solid transparent;
      }

      .music-note-icon {
        font-size: 16px;
      }

      .flip-icon {
        width: 18px;
        height: 18px;
      }

      .calendar-icon {
        font-size: 16px;
        width: 16px;
        height: 16px;
      }

      .calendar-button {
        padding: 10px 19px;
        font-size: 13px;
      }

      .calendar-button .button-text-short {
        min-width: auto;
        width: auto;
      }

      .maps-button {
        padding: 10px 19px;
        font-size: 13px;
      }

      .maps-button .button-text-short {
        min-width: auto;
        width: auto;
      }

      .button-text-short {
        display: inline;
      }

      .button-text-full {
        display: none;
      }

      .calendar-tooltip {
        font-size: 12px;
        padding: 8px 16px;
      }
    }

    /* Rain effect - Ice cubes */
    .rain-piece {
      position: fixed;
      pointer-events: none;
      z-index: -1;
      opacity: 0.8;
    }

    .rain-piece img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    @keyframes rain-fall {
      0% {
        transform: translateY(-500px) rotate(0deg);
        opacity: 0;
      }
      5% {
        opacity: 0.8;
      }
      95% {
        opacity: 0.8;
      }
      100% {
        transform: translateY(calc(100vh + 200px)) rotate(360deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <!-- Background music -->
  <audio id="backgroundMusic" loop>
    <source src="./src/assets/audio/background-music.mp3" type="audio/mpeg">
  </audio>

  <!-- Envelope open sound -->
  <audio id="envelopeOpenSound">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_ba0c25972f.mp3?filename=paper-flip-2-102220.mp3" type="audio/mpeg">
  </audio>

  <!-- Blur overlay -->
  <div class="blur-overlay" id="blurOverlay"></div>

  <!-- Open envelope button -->
  <button class="open-envelope-button" id="openEnvelopeButton">OPEN ENVELOPE</button>

  <!-- Control buttons -->
  <div class="control-buttons" id="controlButtons">
    <!-- Music button -->
    <button class="control-button music-button" id="musicButton">
      <div class="music-icon-container">
        <div class="play-pause-icon" id="playPauseIcon">
          <div class="pause-bars">
            <div class="pause-bar"></div>
            <div class="pause-bar"></div>
          </div>
        </div>
        <div class="music-note-icon">‚ô™</div>
      </div>
    </button>

    <!-- Flip card button -->
    <button class="control-button" id="flipButton">
      <div class="flip-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 12h18M3 12l4-4m-4 4 4 4M21 12l-4-4m4 4-4 4"/>
        </svg>
      </div>
      <span class="button-text-full">Flip Card</span>
      <span class="button-text-short">Flip</span>
    </button>

    <!-- Add to Calendar button -->
    <button class="control-button calendar-button" id="addToCalendarButton">
      <span class="calendar-icon">üìÖ</span>
      <span class="button-text-full">Add to Calendar</span>
      <span class="button-text-short">+</span>
    </button>

    <!-- Get there button -->
    <button class="control-button maps-button" id="getThereButton">
      <span class="calendar-icon">üìç</span>
      <span class="button-text-full">Maps</span>
      <span class="button-text-short">Maps</span>
    </button>
  </div>

  <!-- Calendar CTA Tooltip -->
  <div class="calendar-tooltip" id="calendarTooltip">üëâ Save the date!</div>

  <!-- Envelope container -->
  <div class="envelope-container" id="envelopeContainer">
    <div class="envelope" id="envelope">
      <!-- Back of envelope -->
      <div class="envelope-back">
        <div class="stamp"></div>
        <div class="envelope-back-text">
          Valentina's<br>Birthday
        </div>
      </div>

      <!-- Envelope lids -->
      <div class="envelope-lid"></div>
      <div class="envelope-lid envelope-lid-secondary"></div>

      <!-- Wax seals -->
      <div class="wax-seal-back"></div>
      <div class="wax-seal"></div>

      <!-- Card inside envelope -->
      <div class="card-valentina-wrapper">
        <div class="card-valentina" id="flipCardValentina">
          <!-- Front of card -->
          <div class="card-valentina-front">
            <div class="valentina-card-content">
              <!-- SVG inline with texture pattern -->
              <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 366.8 429.1" class="valentina-svg-background">
                <defs>
                  <!-- Texture pattern -->
                  <pattern id="cardTextureFront" patternUnits="userSpaceOnUse" width="200" height="200">
                    <image href="./src/assets/templates/valentina/fabric-of-squares.png" width="200" height="200" />
                  </pattern>
                  <style>
                    @font-face {
                      font-family: 'SF Pro Text';
                      src: url('./src/assets/fonts/SF-Pro-Text-Regular.otf') format('opentype');
                      font-weight: normal;
                      font-style: normal;
                    }
                    @font-face {
                      font-family: 'Minion Pro';
                      src: url('./src/assets/fonts/minion-pro/MinionPro-Regular.otf') format('opentype');
                      font-weight: normal;
                      font-style: normal;
                    }
                    @font-face {
                      font-family: 'Minion Pro';
                      src: url('./src/assets/fonts/minion-pro/MinionPro-Bold.otf') format('opentype');
                      font-weight: bold;
                      font-style: normal;
                    }
                    @font-face {
                      font-family: 'Monsieur La Doulaise';
                      src: url('./src/assets/fonts/MonsieurLaDoulaise-Regular.ttf') format('truetype');
                      font-weight: normal;
                      font-style: normal;
                    }
                    .st0 { fill: url(#cardTextureFront); }
                    .st1 { font-size: 7px; letter-spacing: .2em; font-family: 'SF Pro Text', sans-serif; font-weight: normal; }
                    .st1, .st2, .st3, .st5, .st6, .st7 { fill: #fff; }
                    .st2 { font-size: 9px; letter-spacing: .2em; font-family: 'SF Pro Text', sans-serif; font-weight: normal; }
                    .st8 { fill: #daa269; }
                    .st9 { fill: #f2f1f6; }
                    .st10 { fill: #231f20; }
                    .st5 { font-size: 10px; letter-spacing: .2em; font-family: 'SF Pro Text', sans-serif; font-weight: normal; }
                    .st13 { fill: #3a2517; }
                    .st6 { font-size: 24.9px; font-family: 'Monsieur La Doulaise', cursive; font-weight: normal; }
                    .st7 { font-size: 26.8px; font-family: 'Minion Pro', serif; font-weight: normal; }
                  </style>
                </defs>
                <polyline id="Card-front" class="st0" points="0 429.1 366.8 429.1 366.8 123 0 123"/>
                <g id="Martini-front">
                  <path id="Glass" class="st3" stroke="#fff" stroke-width="2.5" d="M186.7,205.9l106.9-157c.9-1.4,1-3.2.3-4.6-.8-1.5-2.3-2.4-4-2.4H77c-1.7,0-3.2.9-4,2.4s-.7,3.3.3,4.6c0,0,106.8,156.9,107.3,157.2v92.9c0,.2,0,.4,0,.6l-1.8,2.5c-2.8,3.9-6.7,6.8-11.2,8.4l-19.5,7.3c-.9.3-1.4,1.3-1.3,2.2.2,1,1,1.6,2,1.6h69.1c1,0,1.8-.7,2-1.6.2-.9-.3-1.9-1.2-2.2l-20.6-8.2c-3.9-1.6-7.3-4.2-9.8-7.6l-1.8-2.4c0-.2,0-.4,0-.6,0,0,.1-93,.2-93.1Z"/>
                  <g id="Stick">
                    <path class="st10" stroke="#231f20" stroke-width="2" d="M213.4,96.8l54.4-81.6c-1.2-1.2-1.8-2.8-1.8-4.6,0-3.7,3-6.7,6.7-6.7s6.7,3,6.7,6.7-3,6.7-6.7,6.7-1.6-.1-2.3-.4l-54.4,81.6-2.5-1.7Z"/>
                    <path class="st9" stroke="#f2f1f6" stroke-width="2" d="M272.5,4.5c3.4,0,6.2,2.8,6.2,6.2s-2.8,6.2-6.2,6.2-1.8-.2-2.5-.5l-54.3,81.5-1.7-1.1,54.3-81.5c-1.2-1.1-2-2.7-2-4.5,0-3.4,2.8-6.2,6.2-6.2M272.5,3.5c-3.9,0-7.2,3.2-7.2,7.2s.6,3.3,1.7,4.6l-53.9,80.8-.6.8.8.6,1.7,1.1.8.6.6-.8,53.9-80.8c.7.2,1.4.3,2.1.3,3.9,0,7.2-3.2,7.2-7.2s-3.2-7.2-7.2-7.2h0Z"/>
                  </g>
                  <path id="Coffee" class="st13" d="M87.7,62.8l67.9,101.4c14.4,18.4,42.6,16,53.8,1.3l69-103.8-190.6,1.1Z"/>
                  <polygon id="Mousse" class="st8" points="87.7 62.8 77 46.4 289.9 46.4 278.3 61.7 87.7 62.8"/>
                </g>
                <text id="Text-main-Valentinis" class="st7" transform="translate(133.6 113.3) scale(.9 1)"><tspan x="0" y="0">Valentinis</tspan></text>
                <text id="Text-sub-JOIN_US_FOR" class="st1" transform="translate(155.6 84)"><tspan x="0" y="0">JOIN US FOR</tspan></text>
                <text id="Adresse-Title-Le_Sand" class="st6" transform="translate(144.8 360.4) scale(.9 1)"><tspan x="0" y="0">Le Sand</tspan></text>
                <text id="Adresse-7_Rue_Rouget_de_Lisle" class="st2" transform="translate(112.3 385.3)"><tspan x="0" y="0">7 RUE ROUGET DE LISLE,</tspan><tspan x="34.7" y="12" xml:space="preserve"> 75001 PARIS</tspan></text>
                <text id="Date-November_22nd" class="st5" transform="translate(50 255.8)"><tspan x="0" y="0">NOVEMBER </tspan><tspan x="19" y="18">22ND </tspan></text>
                <text id="Time-DINNER_AT_8_30_PM" class="st5" transform="translate(256.1 255.8)"><tspan x="0" y="0">DINNER AT</tspan><tspan x="5.5" y="18">8:30 P.M.</tspan></text>
              </svg>
            </div>
          </div>

          <!-- Card edge/thickness (visible during flip) -->
          <div class="card-valentina-edge">
            <img
              src="./src/assets/templates/valentina/card-edge.svg"
              alt="Card thickness"
              class="valentina-edge-svg"
            />
          </div>

          <!-- Back of card -->
          <div class="card-valentina-back">
            <div class="valentina-card-content">
              <!-- SVG inline with texture pattern -->
              <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 366.8 429.1" class="valentina-svg-background">
                <defs>
                  <!-- Texture pattern -->
                  <pattern id="cardTextureBack" patternUnits="userSpaceOnUse" width="200" height="200">
                    <image href="./src/assets/templates/valentina/fabric-of-squares.png" width="200" height="200" />
                  </pattern>
                  <style>
                    @font-face {
                      font-family: 'Minion Pro';
                      src: url('./src/assets/fonts/minion-pro/MinionPro-Regular.otf') format('opentype');
                      font-weight: normal;
                      font-style: normal;
                    }
                    @font-face {
                      font-family: 'Minion Pro';
                      src: url('./src/assets/fonts/minion-pro/MinionPro-Bold.otf') format('opentype');
                      font-weight: bold;
                      font-style: normal;
                    }
                    .st0 { fill: url(#cardTextureBack); }
                    .st4, .st7 { fill: #fff; }
                    .st4 { font-family: 'Minion Pro', serif; font-weight: normal; }
                    .st11 { font-size: 11px; font-weight: normal; }
                    .st12 { font-size: 13px; font-weight: bold; }
                    .st7 { font-size: 26.8px; font-family: 'Minion Pro', serif; font-weight: normal; }
                  </style>
                </defs>
                <!-- Unified path: Martini-back + Card-back merged into one shape - flipped horizontally -->
                <g transform="translate(366.8, 0) scale(-1, 1)">
                  <path id="Unified-Card-Back" class="st0" d="M244.7,123l49.8-73.1c0.9-1.4,1-3.2,0.3-4.6c-0.8-1.5-2.3-2.4-4-2.4h-36.9l17.1-25.6c0.8,0.3,1.6,0.5,2.5,0.5c3.4,0,6.2-2.8,6.2-6.2s-2.8-6.2-6.2-6.2c-3.4,0-6.2,2.8-6.2,6.2c0,1.8,0.8,3.4,2,4.5l-17.8,26.7H77.8c-1.7,0-3.2,0.9-4,2.4s-0.7,3.3,0.3,4.6c0,0,24.3,35.7,49.8,73.1H0.8v306.1h366.8V123H244.7z"/>
                </g>
                <text id="Menu-title" class="st7" transform="translate(153.7 90) scale(.9 1)"><tspan x="0" y="0">Menu</tspan></text>
                <text id="Menu-text" class="st4" text-anchor="middle" transform="translate(183.4 167.9) scale(.9 1)">
                  <tspan class="st12"><tspan x="0" y="0">PI√àCES FROIDES</tspan></tspan>
                  <tspan class="st11"><tspan x="0" y="17.2">Olives, Anchois, huile d'ail d'olive</tspan></tspan>
                  <tspan class="st11"><tspan x="0" y="30.4">≈íufs mayonnaise, Poivrons rouges</tspan></tspan>
                  <tspan class="st11"><tspan x="0" y="43.6">Mini Straciatella, √©damam√©, figues</tspan></tspan>
                  <tspan class="st11"><tspan x="0" y="56.8">Mini tartare de b≈ìuf</tspan></tspan>
                  <tspan class="st11"><tspan x="0" y="70">Trio de crudo de poisson frais</tspan></tspan>
                  <tspan class="st12"><tspan x="0" y="96">PI√àCES CHAUDES</tspan></tspan>
                  <tspan class="st11"><tspan x="0" y="113.2">Mini Sand Burger, cornichon de bacon</tspan></tspan>
                  <tspan class="st11"><tspan x="0" y="126.4">Petites Saint Jacques Po√™l√©es, cr√®me de potimarron dashi</tspan></tspan>
                  <tspan class="st11"><tspan x="0" y="139.6">Petites p√¢tes du jour</tspan></tspan>
                  <tspan class="st11"><tspan x="0" y="152.8">Accompagnements : pommes grenailles, haricots verts</tspan></tspan>
                  <tspan class="st12"><tspan x="0" y="178.6">PI√àCES SUCR√âES</tspan></tspan>
                  <tspan class="st11"><tspan x="0" y="195.8">Cr√®me caramel au caf√©, chantilly</tspan></tspan>
                  <tspan class="st11"><tspan x="0" y="209">Choux √† la cr√®me, marron glac√©, caramel</tspan></tspan>
                </text>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    let autoFlipTimeout = null;
    let hasFlipped = false;
    let musicPlaying = false;
    let sealBackTimeout = null;
    let sealBackHidden = false;

    // ===== RAIN EFFECT - COCKTAILS =====
    const rainImages = [
      './src/assets/images/vale/emojis.com espresso-martini.webp',
      './src/assets/images/vale/emojis.com ice-cube.webp',
      './src/assets/images/vale/emojis.com martini-glass.webp',
      './src/assets/images/vale/emojis.com silver-coloured-cocktail-in-martini-glass.webp',
      './src/assets/images/vale/emojis.com sparkling-champagne-glass.webp',
      './src/assets/images/vale/emojis.com gold-disco-ball.webp',
      './src/assets/images/vale/emojis.com music.webp',
      './src/assets/images/vale/disc.png',
      './src/assets/images/vale/emojis.com silver-disco-ball.webp',
      './src/assets/images/vale/emojis.com yorkshire-terrier-dog.webp'
    ];
    let rainInterval = null;
    let currentRainIndex = 0;

    function createRainPiece() {
      const piece = document.createElement('div');
      piece.className = 'rain-piece';

      // S√©lectionner l'image suivante dans l'ordre
      const selectedImage = rainImages[currentRainIndex];
      currentRainIndex = (currentRainIndex + 1) % rainImages.length;

      const img = document.createElement('img');
      img.src = selectedImage;
      piece.appendChild(img);

      // Taille fixe constante
      const size = 80;
      piece.style.width = size + 'px';
      piece.style.height = size + 'px';

      // Position horizontale al√©atoire
      piece.style.left = Math.random() * 100 + '%';

      // Dur√©e al√©atoire de chute
      const duration = 8 + Math.random() * 6; // Entre 8 et 14 secondes
      piece.style.animation = `rain-fall ${duration}s linear forwards`;

      document.body.appendChild(piece);

      // Supprimer l'√©l√©ment apr√®s l'animation
      setTimeout(() => {
        piece.remove();
      }, duration * 1000);
    }

    function startRainEffect() {
      // Cr√©er une nouvelle pi√®ce toutes les 1500ms
      rainInterval = setInterval(() => {
        createRainPiece();
      }, 1500);
    }

    function stopRainEffect() {
      if (rainInterval) {
        clearInterval(rainInterval);
        rainInterval = null;
      }
    }
    // ===== END RAIN EFFECT =====

    // Fonction pour g√©n√©rer le fichier iCalendar
    function generateICS() {
      const events = [
        {
          title: "Valentina's Birthday",
          location: "7 Rue Rouget de Lisle, 75001 Paris",
          description: "Join us for Valentina's Birthday",
          startDate: "20251122",
          endDate: "20251123",
          startTime: "203000",
          endTime: "000000"
        }
      ];

      let icsContent = [
        'BEGIN:VCALENDAR',
        'VERSION:2.0',
        'PRODID:-//Valentina Birthday//EN',
        'CALSCALE:GREGORIAN',
        'METHOD:PUBLISH',
        'X-WR-CALNAME:Valentina Birthday',
        'X-WR-TIMEZONE:Europe/Paris'
      ];

      events.forEach(event => {
        icsContent.push(
          'BEGIN:VEVENT',
          `DTSTART:${event.startDate}T${event.startTime}`,
          `DTEND:${event.endDate}T${event.endTime}`,
          `SUMMARY:${event.title}`,
          `LOCATION:${event.location}`,
          `DESCRIPTION:${event.description}`,
          `UID:${event.startDate}-${Math.random().toString(36).substring(7)}@valentinis.com`,
          'STATUS:CONFIRMED',
          'SEQUENCE:0',
          'END:VEVENT'
        );
      });

      icsContent.push('END:VCALENDAR');

      return icsContent.join('\r\n');
    }

    // Fonction pour t√©l√©charger le fichier ICS
    function downloadICS() {
      const icsContent = generateICS();
      const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = 'Valentinis.ics';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    // Fonction pour flipper la carte
    function toggleCardFlip() {
      const card = document.getElementById('flipCardValentina');
      const calendarButton = document.getElementById('addToCalendarButton');
      const getThereButton = document.getElementById('getThereButton');
      const sealBack = document.querySelector('.wax-seal-back');

      card.classList.toggle('flipped');

      // Faire dispara√Ætre le seal-back au premier flip
      if (card.classList.contains('flipped') && !sealBackHidden) {
        sealBackHidden = true;
        if (sealBackTimeout) {
          clearTimeout(sealBackTimeout);
        }
        sealBack.style.transition = 'opacity 1s ease';
        sealBack.style.setProperty('opacity', '0', 'important');
      }

      // Afficher les boutons Calendar et Get there au premier flip
      if (card.classList.contains('flipped')) {
        calendarButton.classList.add('visible');
        calendarButton.classList.add('enabled');
        getThereButton.classList.add('visible');
        getThereButton.classList.add('enabled');

        // Afficher le tooltip d√®s que le bouton appara√Æt
        setTimeout(() => {
          const tooltip = document.getElementById('calendarTooltip');

          // Positionner le tooltip par rapport au bouton calendar
          const buttonRect = calendarButton.getBoundingClientRect();

          const buttonCenterX = buttonRect.left + buttonRect.width / 2;

          // V√©rifier si on est sur mobile (largeur < 768px)
          const isMobile = window.innerWidth <= 768;

          let tooltipTop;
          if (isMobile) {
            // Sur mobile : au-dessus du bouton
            const tooltipRect = tooltip.getBoundingClientRect();
            tooltipTop = buttonRect.top - tooltipRect.height - 15;
            tooltip.classList.remove('arrow-up');
            tooltip.classList.add('arrow-down');
          } else {
            // Sur desktop : en dessous du bouton
            tooltipTop = buttonRect.bottom + 15;
            tooltip.classList.remove('arrow-down');
            tooltip.classList.add('arrow-up');
          }

          tooltip.style.left = buttonCenterX + 'px';
          tooltip.style.top = tooltipTop + 'px';
          tooltip.style.transform = 'translate(-50%, 0)';

          tooltip.classList.add('show');

          // Masquer le tooltip apr√®s 6 secondes
          setTimeout(() => {
            tooltip.classList.remove('show');
          }, 6000);
        }, 100);
      }

      // Annuler le flip automatique si l'utilisateur a cliqu√©
      if (!hasFlipped) {
        hasFlipped = true;
        if (autoFlipTimeout) {
          clearTimeout(autoFlipTimeout);
        }
      }
    }

    // Fonction pour configurer MediaSession (pour le lecteur iOS)
    function setupMediaSession() {
      if ('mediaSession' in navigator) {
        navigator.mediaSession.metadata = new MediaMetadata({
          title: 'Valentinis',
          artist: 'Axoss',
          album: 'Paris 2025',
          artwork: []
        });

        navigator.mediaSession.setActionHandler('play', () => {
          const audio = document.getElementById('backgroundMusic');
          audio.play();
          musicPlaying = true;
          document.getElementById('playPauseIcon').innerHTML = `
            <div class="pause-bars">
              <div class="pause-bar"></div>
              <div class="pause-bar"></div>
            </div>
          `;
        });

        navigator.mediaSession.setActionHandler('pause', () => {
          const audio = document.getElementById('backgroundMusic');
          audio.pause();
          musicPlaying = false;
          document.getElementById('playPauseIcon').innerHTML = '<div class="play-triangle"></div>';
        });
      }
    }

    // Fonction pour toggle la musique
    function toggleMusic() {
      const audio = document.getElementById('backgroundMusic');
      const playPauseIcon = document.getElementById('playPauseIcon');

      if (musicPlaying) {
        // Pause la musique
        audio.pause();
        musicPlaying = false;
        playPauseIcon.innerHTML = '<div class="play-triangle"></div>';
      } else {
        // Play la musique
        audio.play().catch(err => {
          console.log('Erreur lors de la lecture:', err);
        });
        musicPlaying = true;
        playPauseIcon.innerHTML = `
          <div class="pause-bars">
            <div class="pause-bar"></div>
            <div class="pause-bar"></div>
          </div>
        `;
      }
    }

    // Fonction pour ouvrir l'enveloppe
    function openEnvelope() {
      const openButton = document.getElementById('openEnvelopeButton');
      const blurOverlay = document.getElementById('blurOverlay');
      const controlButtons = document.getElementById('controlButtons');
      const flipButton = document.getElementById('flipButton');
      const musicButton = document.getElementById('musicButton');
      const audio = document.getElementById('backgroundMusic');
      const envelopeSound = document.getElementById('envelopeOpenSound');

      // Masquer le bouton d'ouverture et l'overlay de flou
      openButton.classList.add('hidden');
      blurOverlay.classList.add('hidden');

      // Afficher les boutons de contr√¥le et activer le bouton musique imm√©diatement
      controlButtons.classList.add('visible');
      musicButton.classList.add('enabled');

      // D√©marrer la musique imm√©diatement
      audio.play().then(() => {
        musicPlaying = true;
      }).catch(err => {
        console.log('Autoplay bloqu√©');
        musicPlaying = false;
        document.getElementById('playPauseIcon').innerHTML = '<div class="play-triangle"></div>';
      });

      // Flip l'enveloppe
      setTimeout(() => {
        document.querySelector('.envelope-container').classList.add('flipped');
      }, 500);

      // Ouvrir l'enveloppe avec son
      setTimeout(() => {
        document.querySelector('.envelope').classList.add('opened');

        // Jouer le son d'ouverture
        envelopeSound.play().catch(err => {
          console.log('Erreur lors de la lecture du son d\'ouverture:', err);
        });
      }, 2000);

      // Activer le bouton Flip quand la carte arrive en position finale
      setTimeout(() => {
        flipButton.classList.add('enabled');
      }, 4500);

      // Faire dispara√Ætre l'enveloppe 5 secondes apr√®s que la carte soit en position finale
      setTimeout(() => {
        document.querySelector('.envelope').classList.add('fade-out');
      }, 9500);

      // Faire dispara√Ætre le seal-back en m√™me temps que l'enveloppe s'il n'y a pas eu de flip
      sealBackTimeout = setTimeout(() => {
        if (!sealBackHidden) {
          const sealBack = document.querySelector('.wax-seal-back');
          sealBackHidden = true;
          sealBack.style.transition = 'opacity 1s ease';
          sealBack.style.setProperty('opacity', '0', 'important');
        }
      }, 9500);

      // Flip automatique √† 11 secondes
      autoFlipTimeout = setTimeout(() => {
        if (!hasFlipped) {
          toggleCardFlip();
          hasFlipped = true;
        }
      }, 11000);

      // D√©marrer l'effet rain 3 secondes apr√®s le flip auto (√† 14 secondes)
      setTimeout(() => {
        startRainEffect();
      }, 14000);
    }

    // Initialisation au chargement de la page
    window.addEventListener('load', () => {
      const card = document.getElementById('flipCardValentina');
      const openButton = document.getElementById('openEnvelopeButton');
      const flipButton = document.getElementById('flipButton');
      const musicButton = document.getElementById('musicButton');
      const addToCalendarButton = document.getElementById('addToCalendarButton');

      // Configurer MediaSession pour le lecteur iOS
      setupMediaSession();

      // Ajouter l'√©v√©nement au bouton d'ouverture
      openButton.addEventListener('click', openEnvelope);

      // Ajouter l'√©v√©nement de clic uniquement au bouton flip
      flipButton.addEventListener('click', (e) => {
        e.stopPropagation();
        toggleCardFlip();
      });

      // Ajouter l'√©v√©nement au bouton musique
      musicButton.addEventListener('click', (e) => {
        e.stopPropagation();
        toggleMusic();
      });

      // Ajouter l'√©v√©nement au bouton "Add to Calendar"
      addToCalendarButton.addEventListener('click', (e) => {
        e.stopPropagation();
        downloadICS();
      });

      // Ajouter l'√©v√©nement au bouton "Get there"
      const getThereButton = document.getElementById('getThereButton');
      getThereButton.addEventListener('click', (e) => {
        e.stopPropagation();
        window.open('https://www.google.com/maps/search/?api=1&query=Le+Sand,7+Rue+Rouget+de+Lisle,75001+Paris', '_blank');
      });
    });
  </script>
</body>
</html>
